{"ast":null,"code":"import { trigger, state, style, transition, animate } from '@angular/animations';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/platform-browser\";\nimport * as i2 from \"../journal.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/tabs\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"../../journal-chip/journal-chip.component\";\n\nfunction ViewAllJournalsComponent_app_journal_chip_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-journal-chip\", 14);\n  }\n\n  if (rf & 2) {\n    const journal_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"journal\", journal_r2)(\"name\", journal_r2.name)(\"owner\", journal_r2.owner);\n  }\n}\n\nexport let ViewAllJournalsComponent = /*#__PURE__*/(() => {\n  class ViewAllJournalsComponent {\n    constructor(_sanitizer, journalService, router) {\n      this._sanitizer = _sanitizer;\n      this.journalService = journalService;\n      this.router = router;\n      this.image = '';\n      this.mobileMenuOpen = false;\n    }\n\n    get openCloseTrigger() {\n      return this.mobileMenuOpen ? 'open' : 'closed';\n    }\n\n    onFileSelected(event) {\n      const file = event.target.files[0];\n      const reader = new FileReader();\n\n      reader.onload = () => {\n        this.uploadFile(reader.result);\n      };\n\n      reader.readAsDataURL(file);\n    }\n\n    ngOnInit() {\n      this.getJournals();\n    }\n\n    uploadFile(file) {\n      this.image = file;\n    }\n\n    formatImageUrl() {\n      // console.log(this.image);\n      // console.log(this._sanitizer.bypassSecurityTrustResourceUrl(this.image));\n      return this._sanitizer.bypassSecurityTrustResourceUrl(this.image);\n    }\n\n    viewJournalEntries(name) {\n      this.router.navigate([`journal/${name}`]);\n    }\n\n    getJournals() {\n      this.journalService.getJournals().subscribe(data => {\n        console.log('data', data);\n        this.journals = data;\n      });\n    }\n\n  }\n\n  ViewAllJournalsComponent.ɵfac = function ViewAllJournalsComponent_Factory(t) {\n    return new (t || ViewAllJournalsComponent)(i0.ɵɵdirectiveInject(i1.DomSanitizer), i0.ɵɵdirectiveInject(i2.JournalService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n\n  ViewAllJournalsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ViewAllJournalsComponent,\n    selectors: [[\"app-view-all-journals\"]],\n    decls: 34,\n    vars: 3,\n    consts: [[1, \"text-xl\", \"m-4\", \"text-center\", \"bg-green-100\", \"rounded\", \"drop-shadow-xl\"], [1, \"m-10\", \"grid\", \"grid-cols-4\", \"gap-10\"], [\"class\", \" col-span-1 p-2\", 3, \"journal\", \"name\", \"owner\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"file\", 3, \"change\"], [\"fileUpload\", \"\"], [3, \"src\"], [\"mat-align-tabs\", \"start\"], [\"label\", \"First\"], [\"label\", \"Second\"], [\"label\", \"Third\"], [1, \"example-card\"], [\"mat-card-avatar\", \"\", 1, \"example-header-image\"], [\"mat-card-image\", \"\", \"src\", \"https://material.angular.io/assets/img/examples/shiba2.jpg\", \"alt\", \"Photo of a Shiba Inu\", 1, \"w-1/6\"], [\"mat-button\", \"\"], [1, \"col-span-1\", \"p-2\", 3, \"journal\", \"name\", \"owner\"]],\n    template: function ViewAllJournalsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtext(1, \" All journals:\\n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵtemplate(3, ViewAllJournalsComponent_app_journal_chip_3_Template, 1, 3, \"app-journal-chip\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\");\n        i0.ɵɵtext(5, \"Image\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"input\", 3, 4);\n        i0.ɵɵlistener(\"change\", function ViewAllJournalsComponent_Template_input_change_6_listener($event) {\n          return ctx.onFileSelected($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(8, \"img\", 5);\n        i0.ɵɵelementStart(9, \"mat-tab-group\", 6)(10, \"mat-tab\", 7);\n        i0.ɵɵtext(11, \"Content 1\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"mat-tab\", 8);\n        i0.ɵɵtext(13, \"Content 2\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"mat-tab\", 9);\n        i0.ɵɵtext(15, \"Content 3\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"mat-card\", 10)(17, \"mat-card-header\");\n        i0.ɵɵelement(18, \"div\", 11);\n        i0.ɵɵelementStart(19, \"mat-card-title\");\n        i0.ɵɵtext(20, \"Shiba Inu\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"mat-card-subtitle\");\n        i0.ɵɵtext(22, \"Dog Breed\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(23, \"img\", 12);\n        i0.ɵɵelementStart(24, \"mat-card-content\")(25, \"p\");\n        i0.ɵɵtext(26, \" The Shiba Inu is the smallest of the six original and distinct spitz breeds of dog from Japan. A small, agile dog that copes very well with mountainous terrain, the Shiba Inu was originally bred for hunting. \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"mat-card-actions\")(28, \"button\", 13);\n        i0.ɵɵtext(29, \"LIKE\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"button\", 13);\n        i0.ɵɵtext(31, \"SHARE\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(32, \"div\");\n        i0.ɵɵtext(33, \"Hellooooo\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.journals);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"src\", ctx.formatImageUrl(), i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(24);\n        i0.ɵɵproperty(\"@openClose\", ctx.openCloseTrigger);\n      }\n    },\n    dependencies: [i4.NgForOf, i5.MatTabGroup, i5.MatTab, i6.MatButton, i7.JournalChipComponent],\n    data: {\n      animation: [trigger('openClose', [// ...\n      state('open', style({\n        opacity: 1,\n        transform: 'scale(1, 1)'\n      })), state('closed', style({\n        opacity: 0,\n        transform: 'scale(0.95, 0.95)'\n      })), transition('open => closed', [animate('100ms ease-in')]), transition('closed => open', [animate('200ms ease-out')])])]\n    }\n  });\n  return ViewAllJournalsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}